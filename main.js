!function(){"use strict";var t=class{constructor(t,e){this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=e}_showInputError(t){const e=this._form.querySelector(`#${t.id}-error`);t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}_hideInputError(t){const e=this._form.querySelector(`#${t.id}-error`);t.classList.remove(this._inputErrorClass),e.textContent=""}_checkInputValidity(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}_checkFormValidity(t){return t.every((t=>t.validity.valid))}disableSubmitButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}enableSubmitButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}resetValidation(){this._toggleButtonState(),this._inputEls.forEach((t=>{this._hideInputError(t)}))}_toggleButtonState(){this._checkFormValidity(this._inputEls)?this.enableSubmitButton():this.disableSubmitButton()}_setEventListeners(){this._inputEls=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputEls.forEach((t=>{t.addEventListener("input",(()=>{this._checkInputValidity(t),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(t=>{t.preventDefault()})),this._setEventListeners(),this._toggleButtonState()}};class e{constructor(t,e,s){this._name=t.name,this._link=t.link,this._templateSelector=e,this._handleImageClick=s}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeButton()})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteCard()})),this._cardImage.addEventListener("click",(()=>this._handleImageClick({name:this._name,link:this._link})))}_handleLikeButton(){this._likeButton.classList.toggle("card__like-button_active")}_handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}getView(){return this._cardElement=document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardImage=this._cardElement.querySelector(".card__image"),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardTitle.textContent=this._name,this._cardImage.alt=this._name,this._cardImage.src=this._link,this._setEventListeners(),this._cardElement}}class s{constructor(t){let{popupSelector:e}=t;this._popupElement=document.querySelector(e),this._popupCloseButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),this._popupElement.addEventListener("click",this._handleRemoteClose),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),this._popupElement.removeEventListener("click",this._handleRemoteClose),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=t=>{"Escape"===t.key&&this.close()};_handleRemoteClose=t=>{t.target.classList.contains("modal")&&this.close()};setEventListeners(){this._popupCloseButton.addEventListener("click",(()=>{this.close()}))}}class i extends s{constructor(t,e){super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=e}close(){this._popupForm.reset(),super.close()}_getInputValues(){return this._inputValues={},this._inputElements.forEach((t=>{this._inputValues[t.name]=t.value})),this._inputValues}setEventListeners(){super.setEventListeners(),this._inputElements=this._popupForm.querySelectorAll(".modal__form-input"),this._popupForm.addEventListener("submit",(t=>{t.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.close()}))}}const n=document.querySelector(".profile__rectangle"),o=document.querySelector("#modal__form-title"),r=document.querySelector("#modal__form-description"),l=document.forms["profile-form"],a=document.querySelector(".profile__add-button"),c=document.forms["card-form"],u={inputSelector:".modal__form-input",submitButtonSelector:".modal__save",inactiveButtonClass:"modal__save_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},d=new class{constructor(t,e){let{renderer:s}=t;this._renderer=s,this._container=document.querySelector(e)}renderItems=t=>{t.forEach((t=>{this._renderer(t)}))};addItem(t){this._container.prepend(t)}}({renderer:t=>{const s=function(t){return new e(t,".card__template",(t=>{m.open(t)})).getView()}(t);d.addItem(s)}},".gallery__cards");d.renderItems([{name:"Colorado Springs",link:"https://images.unsplash.com/photo-1612898825929-3ee87a36087b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1171&q=80"},{name:"Ojai",link:"https://images.unsplash.com/photo-1609960722436-e90e5304d46b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80"},{name:"Lake Powell",link:"https://images.unsplash.com/photo-1566909790006-9d3a0d9343a3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80"},{name:"Denver",link:"https://images.unsplash.com/photo-1618342835315-56f47616bf34?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=687&q=80"},{name:"Redlands",link:"https://images.unsplash.com/photo-1625639192747-89e7979474d3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80"},{name:"Tennessee Mountains",link:"https://images.unsplash.com/photo-1633622674885-11dc5a783ab5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=687&q=80"}]);const _=new class{constructor(t){let{nameSelector:e,descriptionSelector:s}=t;this._name=document.querySelector(e),this._description=document.querySelector(s)}getUserInfo(){return{name:this._name.textContent,description:this._description.textContent}}setUserInfo(t){this._name.textContent=t.title,this._description.textContent=t.subtitle}}({nameSelector:".profile__title",descriptionSelector:".profile__description"}),h=new i("#modal__edit-profile",(t=>{_.setUserInfo(t)}));h.setEventListeners(),n.addEventListener("click",(()=>{h.open();const{description:t,name:e}=_.getUserInfo();o.value=e,r.value=t,f.resetValidation()}));const p=new i("#modal__new-item",(t=>{d.renderItems([t])}));p.setEventListeners(),a.addEventListener("click",(()=>{p.open(),E.resetValidation()}));const m=new class extends s{constructor(t){super({popupSelector:t}),this._previewImage=this._popupElement.querySelector(".modal__picture"),this._previewCaption=this._popupElement.querySelector(".modal__image-description")}open(t){super.open(),this._previewImage.src=t.link,this._previewImage.alt=t.name,this._previewCaption.textContent=t.name}}("#modal__picture-popup");m.setEventListeners();const f=new t(u,l);f.enableValidation();const E=new t(u,c);E.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2tGLEVBQWlCakQsT0FDakIsTUFBTSxZQUFFNkMsRUFBVyxLQUFFckUsR0FBU2dFLEVBQWdCSSxjQUM5Q3ZCLEVBQVdGLE1BQVEzQyxFQUNuQjhDLEVBQWlCSCxNQUFRMEIsRUFDekJLLEVBQWtCekYsaUJBQWlCLElBR3JDLE1BQU0wRixFQUFlLElBQUkxQyxFQUFjLG9CQUFxQnJDLElBQzFEdUQsRUFBWUssWUFBWSxDQUFDNUQsR0FBTSxJQUVqQytFLEVBQWEzQyxvQkFDYmlCLEVBQWlCMUQsaUJBQWlCLFNBQVMsS0FDekNvRixFQUFhbkQsT0FDYm9ELEVBQXFCM0YsaUJBQWlCLElBR3hDLE1BQU02RSxFQUFzQixJR25FYixjQUE2QjNDLEVBQzFDdkUsWUFBWXlFLEdBQ1ZjLE1BQU0sQ0FBRWQsa0JBQ1J0RSxLQUFLOEgsY0FBZ0I5SCxLQUFLdUUsY0FBY3hELGNBQWMsbUJBQ3REZixLQUFLK0gsZ0JBQWtCL0gsS0FBS3VFLGNBQWN4RCxjQUN4Qyw0QkFFSixDQUVBMEQsS0FBSzVCLEdBQ0h1QyxNQUFNWCxPQUNOekUsS0FBSzhILGNBQWMzRCxJQUFNdEIsRUFBS00sS0FDOUJuRCxLQUFLOEgsY0FBYzVELElBQU1yQixFQUFLSSxLQUM5QmpELEtBQUsrSCxnQkFBZ0I1RyxZQUFjMEIsRUFBS0ksSUFDMUMsR0hxRDZDLHlCQUMvQzhELEVBQW9COUIsb0JBSXBCLE1BQU0wQyxFQUFvQixJQUFJSyxFQUFjbEksRUFBU2tHLEdBQ3JEMkIsRUFBa0JsRixtQkFDbEIsTUFBTW9GLEVBQXVCLElBQUlHLEVBQWNsSSxFQUFTcUcsR0FDeEQwQixFQUFxQnBGLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zLCBmb3JtKSB7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gb3B0aW9ucy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBvcHRpb25zLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IG9wdGlvbnMuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IG9wdGlvbnMuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IG9wdGlvbnMuZXJyb3JDbGFzcztcclxuXHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XHJcbiAgICBjb25zdCBpbnB1dEVycm9yID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG5cclxuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgaW5wdXRFcnJvci50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBpbnB1dEVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgY29uc3QgaW5wdXRFcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuXHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGlucHV0RXJyb3IudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XHJcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jaGVja0Zvcm1WYWxpZGl0eShpbnB1dHMpIHtcclxuICAgIHJldHVybiBpbnB1dHMuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICBkaXNhYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgY29uc3QgaXNGb3JtVmFsaWQgPSB0aGlzLl9jaGVja0Zvcm1WYWxpZGl0eSh0aGlzLl9pbnB1dEVscyk7XHJcblxyXG4gICAgaWYgKCFpc0Zvcm1WYWxpZCkge1xyXG4gICAgICB0aGlzLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCB0ZW1wbGF0ZVNlbGVjdG9yLCBoYW5kbGVJbWFnZUNsaWNrKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyBoYW5kbGUgbGlrZSBidXR0b25cclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbigpO1xyXG4gICAgfSk7XHJcbiAgICAvLyByZW1vdmUgY2FyZFxyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQoKTtcclxuICAgIH0pO1xyXG4gICAgLy8gb3BlbiBpbWFnZSBwb3B1cFxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgbGluazogdGhpcy5fbGluayB9KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVMaWtlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZURlbGV0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGdldFZpZXcoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxyXG4gICAgKTtcclxuICAgIC8vZ2V0IGNhcmQgdmlld1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICAvL3NldCBldmVudCBsaXN0ZW5lcnNcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAvL3JldHVybiBjYXJkXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwQ2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZVJlbW90ZUNsb3NlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZVJlbW90ZUNsb3NlKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFuZGxlUmVtb3RlQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5faW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9pbnB1dFZhbHVlc1tlbGVtZW50Lm5hbWVdID0gZWxlbWVudC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9XHJcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19mb3JtLWlucHV0XCIpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJDb2xvcmFkbyBTcHJpbmdzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjEyODk4ODI1OTI5LTNlZTg3YTM2MDg3Yj9peGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0QmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz0xMTcxJnE9ODBcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiT2phaVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYwOTk2MDcyMjQzNi1lOTBlNTMwNGQ0NmI/aXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9MTA3NCZxPTgwXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxha2UgUG93ZWxsXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTY2OTA5NzkwMDA2LTlkM2EwZDkzNDNhMz9peGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0QmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz0xMDc0JnE9ODBcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiRGVudmVyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjE4MzQyODM1MzE1LTU2ZjQ3NjE2YmYzND9peGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0QmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz02ODcmcT04MFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJSZWRsYW5kc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYyNTYzOTE5Mjc0Ny04OWU3OTc5NDc0ZDM/aXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9MTA3NCZxPTgwXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlRlbm5lc3NlZSBNb3VudGFpbnNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MzM2MjI2NzQ4ODUtMTFkYzVhNzgzYWI1P2l4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTY4NyZxPTgwXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbi8vIEVkaXQgUHJvZmlsZSBNb2RhbCBFbGVtZW50c1xyXG5cclxuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19yZWN0YW5nbGVcIik7XHJcbmV4cG9ydCBjb25zdCBtb2RhbFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbF9fZm9ybS10aXRsZVwiKTtcclxuZXhwb3J0IGNvbnN0IG1vZGFsRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI21vZGFsX19mb3JtLWRlc2NyaXB0aW9uXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlTW9kYWxGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl07XHJcblxyXG4vLyBBZGQgUGljdHVyZXMgTW9kYWwgRWxlbWVudHNcclxuXHJcbmV4cG9ydCBjb25zdCBuZXdJdGVtTW9kYWxPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgbmV3SXRlbU1vZGFsRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiY2FyZC1mb3JtXCJdO1xyXG5cclxuLyogLS0tLS0tLS0tLS1cclxuQ2FyZCBFbGVtZW50c1xyXG4tLS0tLS0tLS0tLSAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gXCIuZ2FsbGVyeV9fY2FyZHNcIjtcclxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlU2VsZWN0b3IgPSBcIi5jYXJkX190ZW1wbGF0ZVwiO1xyXG5cclxuLy8gLS0tLS0gRm9ybSBWYWxpZGF0b3IgT3B0aW9ucyAtLS0tLSAvL1xyXG5cclxuZXhwb3J0IGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2Zvcm0taW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmVcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zYXZlX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG4iLCJpbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHtcclxuICBpbml0aWFsQ2FyZHMsXHJcbiAgZWRpdFByb2ZpbGVCdXR0b24sXHJcbiAgZWRpdFByb2ZpbGVNb2RhbEZvcm0sXHJcbiAgbW9kYWxUaXRsZSxcclxuICBtb2RhbERlc2NyaXB0aW9uLFxyXG4gIG5ld0l0ZW1Nb2RhbE9wZW4sXHJcbiAgbmV3SXRlbU1vZGFsRm9ybSxcclxuICBjYXJkTGlzdCxcclxuICB0ZW1wbGF0ZVNlbGVjdG9yLFxyXG4gIG9wdGlvbnMsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuLy8gLS0tLS0gU0VDVElPTlMgLS0tLS0gLy9cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSkge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoaXRlbSwgdGVtcGxhdGVTZWxlY3RvciwgKGRhdGEpID0+IHtcclxuICAgIHByZXZpZXdQaWN0dXJlUG9wdXAub3BlbihkYXRhKTtcclxuICB9KTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQuZ2V0VmlldygpO1xyXG59XHJcblxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkRWwgPSBjcmVhdGVDYXJkKGl0ZW0pO1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbCk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgY2FyZExpc3RcclxuKTtcclxuY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoaW5pdGlhbENhcmRzKTtcclxuXHJcbi8vIC0tLS0tIFBPUFVQUyAtLS0tLSAvL1xyXG5cclxuY29uc3QgdXNlckluZm9ybWF0aW9uID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgZGVzY3JpcHRpb25TZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxufSk7XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjbW9kYWxfX2VkaXQtcHJvZmlsZVwiLCAoZGF0YSkgPT4ge1xyXG4gIHVzZXJJbmZvcm1hdGlvbi5zZXRVc2VySW5mbyhkYXRhKTtcclxufSk7XHJcbmVkaXRQcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZWRpdFByb2ZpbGVQb3B1cC5vcGVuKCk7XHJcbiAgY29uc3QgeyBkZXNjcmlwdGlvbiwgbmFtZSB9ID0gdXNlckluZm9ybWF0aW9uLmdldFVzZXJJbmZvKCk7XHJcbiAgbW9kYWxUaXRsZS52YWx1ZSA9IG5hbWU7XHJcbiAgbW9kYWxEZXNjcmlwdGlvbi52YWx1ZSA9IGRlc2NyaXB0aW9uO1xyXG4gIGVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbmNvbnN0IG5ld0l0ZW1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI21vZGFsX19uZXctaXRlbVwiLCAoZGF0YSkgPT4ge1xyXG4gIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKFtkYXRhXSk7XHJcbn0pO1xyXG5uZXdJdGVtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxubmV3SXRlbU1vZGFsT3Blbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIG5ld0l0ZW1Qb3B1cC5vcGVuKCk7XHJcbiAgbmV3SXRlbUZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgcHJldmlld1BpY3R1cmVQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNtb2RhbF9fcGljdHVyZS1wb3B1cFwiKTtcclxucHJldmlld1BpY3R1cmVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gLS0tLS0gRk9STSBWQUxJREFUSU9OIC0tLS0tIC8vXHJcblxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIGVkaXRQcm9maWxlTW9kYWxGb3JtKTtcclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jb25zdCBuZXdJdGVtRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIG5ld0l0ZW1Nb2RhbEZvcm0pO1xyXG5uZXdJdGVtRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zID0gKGl0ZW1zKSA9PiB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBkZXNjcmlwdGlvblNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGVzY3JpcHRpb25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9uYW1lLnRleHRDb250ZW50O1xyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcclxuICAgIHJldHVybiB7IG5hbWUsIGRlc2NyaXB0aW9uIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS50aXRsZTtcclxuICAgIHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5zdWJ0aXRsZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcGljdHVyZVwiKTtcclxuICAgIHRoaXMuX3ByZXZpZXdDYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19pbWFnZS1kZXNjcmlwdGlvblwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb3BlbihkYXRhKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlLmFsdCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX3ByZXZpZXdDYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJvcHRpb25zIiwiZm9ybSIsInRoaXMiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybSIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWwiLCJpbnB1dEVycm9yIiwicXVlcnlTZWxlY3RvciIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2NoZWNrRm9ybVZhbGlkaXR5IiwiaW5wdXRzIiwiZXZlcnkiLCJpbnB1dCIsImRpc2FibGVTdWJtaXRCdXR0b24iLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJlbmFibGVTdWJtaXRCdXR0b24iLCJyZXNldFZhbGlkYXRpb24iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5wdXRFbHMiLCJmb3JFYWNoIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9saWtlQnV0dG9uIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfZGVsZXRlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfY2FyZEltYWdlIiwidG9nZ2xlIiwiX2NhcmRFbGVtZW50IiwiZ2V0VmlldyIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkVGl0bGUiLCJhbHQiLCJzcmMiLCJQb3B1cCIsIl9yZWYiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9wb3B1cENsb3NlQnV0dG9uIiwib3BlbiIsIl9oYW5kbGVSZW1vdGVDbG9zZSIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInRhcmdldCIsImNvbnRhaW5zIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwicmVzZXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfaW5wdXRWYWx1ZXMiLCJfaW5wdXRFbGVtZW50cyIsImVsZW1lbnQiLCJ2YWx1ZSIsImVkaXRQcm9maWxlQnV0dG9uIiwibW9kYWxUaXRsZSIsIm1vZGFsRGVzY3JpcHRpb24iLCJlZGl0UHJvZmlsZU1vZGFsRm9ybSIsImZvcm1zIiwibmV3SXRlbU1vZGFsT3BlbiIsIm5ld0l0ZW1Nb2RhbEZvcm0iLCJjYXJkU2VjdGlvbiIsInNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwicHJlcGVuZCIsImNhcmRFbCIsInByZXZpZXdQaWN0dXJlUG9wdXAiLCJjcmVhdGVDYXJkIiwidXNlckluZm9ybWF0aW9uIiwibmFtZVNlbGVjdG9yIiwiZGVzY3JpcHRpb25TZWxlY3RvciIsIl9kZXNjcmlwdGlvbiIsImdldFVzZXJJbmZvIiwiZGVzY3JpcHRpb24iLCJzZXRVc2VySW5mbyIsInRpdGxlIiwic3VidGl0bGUiLCJlZGl0UHJvZmlsZVBvcHVwIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJuZXdJdGVtUG9wdXAiLCJuZXdJdGVtRm9ybVZhbGlkYXRvciIsIl9wcmV2aWV3SW1hZ2UiLCJfcHJldmlld0NhcHRpb24iLCJGb3JtVmFsaWRhdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==